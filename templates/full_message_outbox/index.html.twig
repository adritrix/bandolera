{% extends 'base.html.twig' %}

{% block title %}Hello FullMessageOutboxController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }


        #outbox {
  font-family: Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

#outbox td, #outbox th {
  border: 1px solid #ddd;
  padding: 8px;
}

#outbox tr:nth-child(even){background-color: #f2f2f2;}

#outbox tr:hover {background-color: #ddd;}

#outbox th {
  padding-top: 12px;
  padding-bottom: 12px;
  text-align: left;
  background-color: #04AA6D;
  color: white;
}
    
    .notRead{
    background-color:red;
}

.read{
    background-color:blue;
}


</style>

<div class="example-wrapper">
    <h1>Hello {{ controller_name }}! âœ…</h1>

    This friendly message is coming from:
    <ul>
        <li>Your controller at <code><a href="{{ 'C:/xampp/htdocs/bandoleraMk2/src/Controller/FullMessageOutboxController.php'|file_link(0) }}">src/Controller/FullMessageOutboxController.php</a></code></li>
        <li>Your template at <code><a href="{{ 'C:/xampp/htdocs/bandoleraMk2/templates/full_message_outbox/index.html.twig'|file_link(0) }}">templates/full_message_outbox/index.html.twig</a></code></li>
    </ul>
</div>
<div>
    {% if message.sender.id == app.user.id %}
        <p>Good path</p>
        {# <pre>
            {{ dump(regist) }}
        </pre> #}
        <p>{{message.id}}</p>
        <p>{{message.subject}}</p>
        <p>{{message.body}}</p>
        <p>{{message.sender.username}}</p>
        <table id="outbox">
            <tr>
                <th>User</th>
                <th>Status</th>
            </tr>
            {% for regist in message.regists %}
                <tr>
                    <td>{{regist.reciver.username}}</td>
                    {% if regist.isread == 0 %}
                        <td class="notRead">Message not yet readed</td>
                    {% else %}
                        <td class="read">Message already readed</td>
                    {% endif %}
                    
                </tr>
            {% endfor %}
        </table>
    {% else %}
            <a href="{{ path('outbox')}}">You shoudent be her go back to your outbox</a>
    {% endif %}
</div>

{% endblock %}
